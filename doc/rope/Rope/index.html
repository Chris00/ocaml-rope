<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rope (rope.Rope)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">rope</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Rope</span></h1></header><p>Ropes (&quot;heavyweight strings&quot;) are a scalable string implementation.</p><p>Ropes are designed for efficient operation that
involve the string as a whole. Operations such as concatenation,
and substring take time that is nearly independent of the length
of the string. Unlike strings, ropes are a reasonable
representation for very long strings such as edit buffers or mail
messages.</p><p>Features:
</p><ul><li>No length limitation (contrarily to strings);</li><li>Immutability (use <a href="Buffer/index.html">Rope.Buffer</a> instead);</li><li>Efficient concatenation (<a href="index.html#val-concat2">Rope.concat2</a>) and splice
(<a href="index.html#val-sub">Rope.sub</a>);</li><li>Share memory whenever possible.</li></ul><p>Disadvantages:
</p><ul><li><code class="code">get</code> is not O(1) — but it is amortized O(1) if you use an
iterator (see the <a href="Iterator/index.html">Rope.Iterator</a> module). <a href="index.html#val-get">Rope.get</a> is 2 to 3 times
slower than for a string so it should not be your main operation.
However, as soon as in addition you have a few concatenations
(especially with sharing) or splice operations, ropes will usually
outperform strings.</li></ul><p>You can say <code class="code">module String = Rope</code> to use ropes instead of strings
and, in particular, so that <code class="code">r.[i]</code> gets the <code class="code">i</code>th char of the
rope <code class="code">r</code>. This module has all non-deprecated operations of <code class="code">String</code>.
It additionally features <a href="Buffer/index.html">Rope.Buffer</a> and <a href="Iterator/index.html">Rope.Iterator</a> modules.</p><p>To use this library in the toploop (REPL), issue
<code class="code">#require &quot;rope.top&quot;;;</code>.</p><ul class="at-tag"><li><span class="at-tag version">Version</span>: 0.6</li><li><span class="at-tag author">Author</span>: Christophe Troestler</li></ul><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>Immutable rope.</p></div></div><div class="spec type" id="type-rope"><a href="#type-rope" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>rope</code><code><span class="keyword"> = </span><a href="index.html#type-t">t</a></code><code></code></div><div class="doc"><p>Alias for type <a href="index.html#type-t">Rope.t</a></p></div></div><div class="spec exception" id="exception-Out_of_bounds"><a href="#exception-Out_of_bounds" class="anchor"></a><div class="def exception"><code><span class="keyword">exception </span></code><code><span class="exception">Out_of_bounds</span><span class="keyword"> of </span>string</code></div><div class="doc"><p>Raised by various functions to indicate out-of-bounds access.
The string argument is the name of the function that raised it.</p></div></div><div class="spec val" id="val-empty"><a href="#val-empty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>empty : <a href="index.html#type-t">t</a></code></div><div class="doc"><p>The empty rope.</p></div></div><div class="spec val" id="val-of_string"><a href="#val-of_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_string : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">of_string s</code> creates a rope from the string <code class="code">s</code>.</p></div></div><div class="spec val" id="val-of_substring"><a href="#val-of_substring" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_substring : string <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">of_substring s start len</code> create a rope from the substring
<code class="code">s.[start .. start+len-1]</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if <code class="code">start</code> and <code class="code">len</code> do not designate a valid
sbstring of <code class="code">s</code>.</li></ul></div></div><div class="spec val" id="val-of_char"><a href="#val-of_char" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>of_char : char <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">of_char c</code> returns a rope consisting of the unique character
<code class="code">c</code>. It may be useful to append a char to a given rope.</p></div></div><div class="spec val" id="val-make"><a href="#val-make" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make : int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">make len c</code> returns a rope of length <code class="code">len</code> filled with <code class="code">c</code>.</p></div></div><div class="spec val" id="val-init"><a href="#val-init" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init : int <span class="keyword">&#8209;&gt;</span> (int <span class="keyword">&#8209;&gt;</span> char) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init len f</code> returns a rope of length <code class="code">len</code> with entry of index
<code class="code">i</code> filled with <code class="code">f i</code>.</p></div></div><div class="spec val" id="val-to_string"><a href="#val-to_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>to_string : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p><code class="code">to_string r</code> return a string with the same content as the rope.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Failure</span>: if the rope is too long to fit into a string.</li></ul></div></div><div class="spec val" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>is_empty : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">is_empty r</code> tells whether the rope <code class="code">r</code> is empty.</p></div></div><div class="spec val" id="val-length"><a href="#val-length" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>length : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">length r</code> returns the length of the rope. O(1) time.</p></div></div><div class="spec val" id="val-get"><a href="#val-get" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char</code></div><div class="doc"><p><code class="code">get r i</code> returns the <code class="code">i</code>th char of the rope.
Takes O(log(length r)).</p></div></div><div class="spec val" id="val-sub"><a href="#val-sub" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>sub : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">sub r i start len</code> returns the sub-rope consisting of
characters from position <code class="code">start</code> to <code class="code">start+len-1</code> (included) of
the rope <code class="code">r</code>. O(log(length r)) time.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if <code class="code">i &lt; 0</code>, <code class="code">len &lt; 0</code> or <code class="code">i + len &gt;
      Rope.length r</code>.</li></ul></div></div><div class="spec val" id="val-blit"><a href="#val-blit" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>blit : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> Bytes.t <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">blit src srcoff dst dstoff len</code> copies <code class="code">len</code> bytes from the rope
<code class="code">src</code> starting at index <code class="code">srcoff</code>, to sequence <code class="code">dst</code>, starting at
index <code class="code">dstoff</code>.</p></div></div><div class="spec val" id="val-concat2"><a href="#val-concat2" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>concat2 : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">concat2 r1 r2</code> concatenates the ropes <code class="code">r1</code> and <code class="code">r2</code>.</p></div></div><div class="spec val" id="val-concat"><a href="#val-concat" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>concat : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> list <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">concat sep rl</code> concatenates the list of ropes <code class="code">rl</code>, inserting
the separator string <code class="code">sep</code> between each.</p></div></div><div class="spec val" id="val-iter"><a href="#val-iter" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iter : (char <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">iter f r</code> execute <code class="code">f c</code> for <code class="code">c</code> going through every character
of rope <code class="code">r</code> from left to right.</p></div></div><div class="spec val" id="val-iteri"><a href="#val-iteri" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>iteri : (int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">iter f r</code> execute <code class="code">f i c</code> for <code class="code">c</code> going through every
character of rope <code class="code">r</code> from left to right and <code class="code">i</code> the index of
<code class="code">c</code>.</p></div></div><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : f:(char <span class="keyword">&#8209;&gt;</span> char) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">map f r</code> applies function <code class="code">f</code> in turn to all the characters of
<code class="code">r</code> (in increasing index order) and stores the results in a new
string that is returned.</p></div></div><div class="spec val" id="val-mapi"><a href="#val-mapi" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>mapi : f:(int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> char) <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Same as <code class="code">map</code> but the function <code class="code">f</code> is passed the index <code class="code">i</code> of the
char.</p></div></div><div class="spec val" id="val-trim"><a href="#val-trim" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>trim : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return a copy of the argument, without leading and trailing
whitespace. The characters regarded as whitespace are: <code class="code">' '</code>,
<code class="code">'\012'</code>, <code class="code">'\n'</code>, <code class="code">'\r'</code>, and <code class="code">'\t'</code>.</p></div></div><div class="spec val" id="val-escaped"><a href="#val-escaped" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>escaped : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return a copy of the argument, with special characters
represented by escape sequences, following the lexical
conventions of Objective Caml.</p></div></div><div class="spec val" id="val-index"><a href="#val-index" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>index : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">index r c</code> returns the position of the leftmost occurrence of
character <code class="code">c</code> in rope <code class="code">r</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Not_found</span>: if <code class="code">c</code> does not occur in <code class="code">r</code>.</li></ul></div></div><div class="spec val" id="val-index_opt"><a href="#val-index_opt" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>index_opt : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int option</code></div><div class="doc"><p><code class="code">index r c</code> returns <code class="code">Some i</code> where <code class="code">i</code> is the position of the
leftmost occurrence of character <code class="code">c</code> in rope <code class="code">r</code> and <code class="code">None</code> if <code class="code">c</code>
does not occur in <code class="code">r</code>.</p></div></div><div class="spec val" id="val-rindex"><a href="#val-rindex" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rindex : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">rindex r c</code> returns the position of the rightmost occurrence
of character <code class="code">c</code> in rope <code class="code">r</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Not_found</span>: if <code class="code">c</code> does not occur in <code class="code">r</code>.</li></ul></div></div><div class="spec val" id="val-rindex_opt"><a href="#val-rindex_opt" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rindex_opt : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int option</code></div><div class="doc"><p><code class="code">rindex_opt r c</code> returns <code class="code">Some i</code> where <code class="code">i</code> is the position of the
rightmost occurrence of character <code class="code">c</code> in rope <code class="code">r</code> or <code class="code">None</code> if <code class="code">c</code>
does not occur in <code class="code">r</code>.</p></div></div><div class="spec val" id="val-index_from"><a href="#val-index_from" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>index_from : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Same as <a href="index.html#val-index">Rope.index</a>, but start searching at the character
position given as second argument. <code class="code">Rope.index r c</code> is
equivalent to <code class="code">Rope.index_from r 0 c</code>.</p></div></div><div class="spec val" id="val-index_from_opt"><a href="#val-index_from_opt" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>index_from_opt : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int option</code></div><div class="doc"><p>Same as <a href="index.html#val-index_opt">Rope.index_opt</a>, but start searching at the character
position given as second argument. <code class="code">Rope.index_opt r c</code> is
equivalent to <code class="code">Rope.index_from_opt r 0 c</code>.</p></div></div><div class="spec val" id="val-rindex_from"><a href="#val-rindex_from" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rindex_from : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>Same as <a href="index.html#val-rindex">Rope.rindex</a>, but start searching at the character
position given as second argument. <code class="code">Rope.rindex r c</code> is
equivalent to <code class="code">Rope.rindex_from s (Rope.length r - 1) c</code>.</p></div></div><div class="spec val" id="val-rindex_from_opt"><a href="#val-rindex_from_opt" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rindex_from_opt : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> int option</code></div><div class="doc"><p>Same as <a href="index.html#val-rindex_opt">Rope.rindex_opt</a>, but start searching at the character
position given as second argument. <code class="code">Rope.rindex_opt r c</code> is
equivalent to <code class="code">Rope.rindex_from_opt s (Rope.length r - 1) c</code>.</p></div></div><div class="spec val" id="val-contains"><a href="#val-contains" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>contains : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">contains r c</code> tests if character <code class="code">c</code> appears in the rope <code class="code">r</code>.</p></div></div><div class="spec val" id="val-contains_from"><a href="#val-contains_from" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>contains_from : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">contains_from r start c</code> tests if character <code class="code">c</code> appears in
the subrope of <code class="code">r</code> starting from <code class="code">start</code> to the end of <code class="code">s</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if <code class="code">start</code> is not a valid index of <code class="code">r</code>.</li></ul></div></div><div class="spec val" id="val-rcontains_from"><a href="#val-rcontains_from" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rcontains_from : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> char <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">rcontains_from r stop c</code> tests if character <code class="code">c</code> appears in
the subrope of <code class="code">r</code> starting from the beginning of <code class="code">r</code> to index
<code class="code">stop</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Invalid_argument</span>: if <code class="code">stop</code> is not a valid index of <code class="code">r</code>.</li></ul></div></div><div class="spec val" id="val-uppercase_ascii"><a href="#val-uppercase_ascii" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uppercase_ascii : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return the argument with all lowercase letters translated to
uppercase, including accented letters of the ISO Latin-1 (8859-1)
character set.</p></div></div><div class="spec val" id="val-lowercase_ascii"><a href="#val-lowercase_ascii" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>lowercase_ascii : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return the argument with all uppercase letters translated to
lowercase, including accented letters of the ISO Latin-1 (8859-1)
character set.</p></div></div><div class="spec val" id="val-capitalize_ascii"><a href="#val-capitalize_ascii" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>capitalize_ascii : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return the argument, with the first character set to uppercase.</p></div></div><div class="spec val" id="val-uncapitalize_ascii"><a href="#val-uncapitalize_ascii" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uncapitalize_ascii : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Return the argument with the first character set to lowercase.</p></div></div><div class="spec val" id="val-compare"><a href="#val-compare" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>compare : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p>The comparison function for ropes, with the same specification
as <code class="code">Pervasives.compare</code>. Along with the type <code class="code">t</code>, this function
<code class="code">compare</code> allows the module <a href="index.html">Rope</a> to be passed as argument to
the functors <code class="code">Set.Make</code> and <code class="code">Map.Make</code>.</p></div></div><div class="spec val" id="val-equal"><a href="#val-equal" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>equal : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">equal r1 r2</code> tells whether the two ropes <code class="code">r1</code> and <code class="code">r2</code> are
equal. (It is equivalent to <code class="code">compare r1 r2 = 0</code>, just slightly
faster.)</p></div></div><div class="spec val" id="val-uppercase"><a href="#val-uppercase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uppercase : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag deprecated">Deprecated</span> Use <a href="index.html#val-uppercase_ascii">Rope.uppercase_ascii</a>.</li></ul></div></div><div class="spec val" id="val-lowercase"><a href="#val-lowercase" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>lowercase : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag deprecated">Deprecated</span> Use <a href="index.html#val-lowercase_ascii">Rope.lowercase_ascii</a>.</li></ul></div></div><div class="spec val" id="val-capitalize"><a href="#val-capitalize" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>capitalize : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag deprecated">Deprecated</span> Use <a href="index.html#val-capitalize_ascii">Rope.capitalize_ascii</a>.</li></ul></div></div><div class="spec val" id="val-uncapitalize"><a href="#val-uncapitalize" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>uncapitalize : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag deprecated">Deprecated</span> Use <a href="index.html#val-uncapitalize_ascii">Rope.uncapitalize_ascii</a>.</li></ul></div></div><h3>Search</h3><div class="spec val" id="val-search_forward_string"><a href="#val-search_forward_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>search_forward_string : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">search_forward_string p</code> is a search function that, given a
rope <code class="code">r</code> and a start index <code class="code">i0</code>, will return the position of
<code class="code">p</code> in <code class="code">r</code> or raise <code class="code">Not_found</code> if no occurrence of <code class="code">p</code> in <code class="code">r</code>
exists. <code class="code">let search = search_forward_string p</code> takes
O(length p) and <code class="code">search r i0</code> takes O(length r - i0).</p></div></div><h3>Input/output</h3><p>Input and output functions for ropes modelled on the standard
library <code class="code">Pervasives</code>.</p><div class="spec val" id="val-input_line"><a href="#val-input_line" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>input_line : ?&#8288;leaf_length:int <span class="keyword">&#8209;&gt;</span> Pervasives.in_channel <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Read characters from the given input channel, until a newline
character is encountered. Return the rope of all characters read,
without the newline character at the end.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">End_of_file</span>: if the end of the file is reached at the
beginning of line.</li></ul></div></div><div class="spec val" id="val-read_line"><a href="#val-read_line" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>read_line : unit <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>Flush standard output, then read characters from standard input
until a newline character is encountered. Return the rope of
all characters read, without the newline character at the end.</p></div></div><div class="spec val" id="val-print_string"><a href="#val-print_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>print_string : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print a rope on standard output.</p></div></div><div class="spec val" id="val-print_endline"><a href="#val-print_endline" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>print_endline : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print a rope, followed by a newline character, on standard
output and flush standard output.</p></div></div><div class="spec val" id="val-prerr_string"><a href="#val-prerr_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prerr_string : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print a rope on standard error.</p></div></div><div class="spec val" id="val-prerr_endline"><a href="#val-prerr_endline" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>prerr_endline : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Print a rope, followed by a newline character on standard error
and flush standard error.</p></div></div><div class="spec val" id="val-output_rope"><a href="#val-output_rope" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>output_rope : Pervasives.out_channel <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">output_rope oc r</code> outputs the rope <code class="code">r</code> to the output channel <code class="code">oc</code>.
May also be used with a <code class="code">%a</code> directive of printf.</p></div></div><div class="spec val" id="val-output_string"><a href="#val-output_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>output_string : Pervasives.out_channel <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Alias for <a href="index.html#val-output_rope">Rope.output_rope</a> to be a drop in replacement for strings.</p></div></div><h3>Balancing</h3><div class="spec val" id="val-balance"><a href="#val-balance" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>balance : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">balance r</code> return a balanced copy of the rope <code class="code">r</code>. Implicit
rebalancing is done by some of the above functions to avoid
gross inefficiencies but you may want to call this function
explicitely to try to improve your running times.</p></div></div><div class="spec val" id="val-height"><a href="#val-height" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>height : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">depth r</code> returns the depth of the rope <code class="code">r</code>. This information
may be useful to decide whether you want to re-balance.</p></div></div><div class="spec val" id="val-rebalancing_height"><a href="#val-rebalancing_height" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>rebalancing_height : int</code></div><div class="doc"><p>The rope will be rebalanced by some functions it its height is
greater or equal to <code class="code">rebalancing_height</code>.</p></div></div><h3>Submodules</h3><div class="spec module" id="module-Iterator"><a href="#module-Iterator" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Iterator/index.html">Iterator</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>Iterators for ropes. It is more efficient to use an iterator to
perform small steps and get the characters than to use <a href="index.html#val-get">Rope.get</a>
repeatedly.</p></div></div><div class="spec module" id="module-Buffer"><a href="#module-Buffer" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Buffer/index.html">Buffer</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>This is similar to the <code class="code">Buffer</code> module in the standard library
except that it constructs ropes. It is recommended to use this
module instead of repeatedly concatenating chars.</p></div></div><div class="spec module" id="module-Regexp"><a href="#module-Regexp" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Regexp/index.html">Regexp</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>TBD: Regular expressions for ropes.</p></div></div><div class="spec module" id="module-Rope_toploop"><a href="#module-Rope_toploop" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Rope_toploop/index.html">Rope_toploop</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="doc"><p>Toploop printer and its configuration.</p></div></div></body></html>