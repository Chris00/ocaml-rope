<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Rope (rope.Rope)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc v2.3.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">rope</a> &#x00BB; Rope</nav><header class="odoc-preamble"><h1>Module <code><span>Rope</span></code></h1><p>Ropes (&quot;heavyweight strings&quot;) are a scalable string implementation.</p><p>Ropes are designed for efficient operation that involve the string as a whole. Operations such as concatenation, and substring take time that is nearly independent of the length of the string. Unlike strings, ropes are a reasonable representation for very long strings such as edit buffers or mail messages.</p><p>Features:</p><ul><li>No length limitation (contrarily to strings);</li><li>Immutability (use <a href="Buffer/index.html"><code>Rope.Buffer</code></a> to incrementally build ropes);</li><li>Efficient concatenation (<a href="#val-concat2"><code>Rope.concat2</code></a>) and splice (<a href="#val-sub"><code>Rope.sub</code></a>);</li><li>Share memory whenever possible.</li></ul><p>Disadvantages:</p><ul><li><code>get</code> is not O(1) — but it is amortized O(1) if you use an iterator (see the <a href="Iterator/index.html"><code>Rope.Iterator</code></a> module). <a href="#val-get"><code>Rope.get</code></a> is 2 to 3 times slower than for a string so it should not be your main operation. However, as soon as in addition you have a few concatenations (especially with sharing) or splice operations, ropes will usually outperform strings.</li></ul><p>You can say <code>module String = Rope</code> to use ropes instead of strings and, in particular, so that <code>r.[i]</code> gets the <code>i</code>th char of the rope <code>r</code>. This module has all non-deprecated operations of <code>String</code>. It additionally features <a href="Buffer/index.html"><code>Rope.Buffer</code></a> and <a href="Iterator/index.html"><code>Rope.Iterator</code></a> modules.</p><p>To use this library in the toploop (REPL), issue <code>#require &quot;rope.top&quot;;;</code>.</p><ul class="at-tags"><li class="version"><span class="at-tag">version</span> 0.6.3</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Christophe Troestler</li></ul></header><nav class="odoc-toc"><ul><li><a href="#basics-(creation,-access,...)">Basics (creation, access,...)</a></li><li><a href="#search-char">Search char</a></li><li><a href="#search-substring">Search substring</a></li><li><a href="#ascii-letter-case">ASCII letter case</a></li><li><a href="#ordering">Ordering</a></li><li><a href="#input/output">Input/output</a></li><li><a href="#balancing">Balancing</a></li><li><a href="#iterator">Iterator</a></li><li><a href="#buffer">Buffer</a></li><li><a href="#repl">REPL</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Immutable rope.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-rope"><a href="#type-rope" class="anchor"></a><code><span><span class="keyword">type</span> rope</span><span> = <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Alias for type <a href="#type-t"><code>Rope.t</code></a></p></div></div><div class="odoc-spec"><div class="spec exception anchored" id="exception-Out_of_bounds"><a href="#exception-Out_of_bounds" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Out_of_bounds</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Raised by various functions to indicate out-of-bounds access. The string argument is the name of the function that raised it.</p></div></div><h3 id="basics-(creation,-access,...)"><a href="#basics-(creation,-access,...)" class="anchor"></a>Basics (creation, access,...)</h3><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The empty rope.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_string s</code> creates a rope from the string <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_substring"><a href="#val-of_substring" class="anchor"></a><code><span><span class="keyword">val</span> of_substring : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_substring s start len</code> create a rope from the substring <code>s.[start .. start+len-1]</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if <code>start</code> and <code>len</code> do not designate a valid sbstring of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-of_char"><a href="#val-of_char" class="anchor"></a><code><span><span class="keyword">val</span> of_char : <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_char c</code> returns a rope consisting of the unique character <code>c</code>. It may be useful to append a char to a given rope.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make len c</code> returns a rope of length <code>len</code> filled with <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init len f</code> returns a rope of length <code>len</code> with entry of index <code>i</code> filled with <code>f i</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string r</code> return a string with the same content as the rope.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Failure</code> <p>if the rope is too long to fit into a string.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_empty r</code> tells whether the rope <code>r</code> is empty.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-length"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>length r</code> returns the length of the rope. O(1) time.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> char</span></code></div><div class="spec-doc"><p><code>get r i</code> returns the <code>i</code>th char of the rope. Takes O(log(length r)).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub r i start len</code> returns the sub-rope consisting of characters from position <code>start</code> to <code>start+len-1</code> (included) of the rope <code>r</code>. O(log(length r)) time.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if <code>i &lt; 0</code>, <code>len &lt; 0</code> or <code>i + len &gt;
      Rope.length r</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-blit"><a href="#val-blit" class="anchor"></a><code><span><span class="keyword">val</span> blit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Bytes.t <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>blit src srcoff dst dstoff len</code> copies <code>len</code> bytes from the rope <code>src</code> starting at index <code>srcoff</code>, to sequence <code>dst</code>, starting at index <code>dstoff</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-concat2"><a href="#val-concat2" class="anchor"></a><code><span><span class="keyword">val</span> concat2 : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>concat2 r1 r2</code> concatenates the ropes <code>r1</code> and <code>r2</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>concat sep rl</code> concatenates the list of ropes <code>rl</code>, inserting the separator string <code>sep</code> between each.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f r</code> execute <code>f c</code> for <code>c</code> going through every character of rope <code>r</code> from left to right.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iteri"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f r</code> execute <code>f i c</code> for <code>c</code> going through every character of rope <code>r</code> from left to right and <code>i</code> the index of <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-map"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span class="label">f</span>:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>map f r</code> applies function <code>f</code> in turn to all the characters of <code>r</code> (in increasing index order) and stores the results in a new string that is returned.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mapi"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span class="label">f</span>:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Same as <code>map</code> but the function <code>f</code> is passed the index <code>i</code> of the char.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-trim"><a href="#val-trim" class="anchor"></a><code><span><span class="keyword">val</span> trim : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return a copy of the argument, without leading and trailing whitespace. The characters regarded as whitespace are: <code>' '</code>, <code>'\012'</code>, <code>'\n'</code>, <code>'\r'</code>, and <code>'\t'</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-escaped"><a href="#val-escaped" class="anchor"></a><code><span><span class="keyword">val</span> escaped : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return a copy of the argument, with special characters represented by escape sequences, following the lexical conventions of Objective Caml.</p></div></div><h3 id="search-char"><a href="#search-char" class="anchor"></a>Search char</h3><div class="odoc-spec"><div class="spec value anchored" id="val-index"><a href="#val-index" class="anchor"></a><code><span><span class="keyword">val</span> index : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>index r c</code> returns the position of the leftmost occurrence of character <code>c</code> in rope <code>r</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>c</code> does not occur in <code>r</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-index_opt"><a href="#val-index_opt" class="anchor"></a><code><span><span class="keyword">val</span> index_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>index r c</code> returns <code>Some i</code> where <code>i</code> is the position of the leftmost occurrence of character <code>c</code> in rope <code>r</code> and <code>None</code> if <code>c</code> does not occur in <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rindex"><a href="#val-rindex" class="anchor"></a><code><span><span class="keyword">val</span> rindex : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>rindex r c</code> returns the position of the rightmost occurrence of character <code>c</code> in rope <code>r</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Not_found</code> <p>if <code>c</code> does not occur in <code>r</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rindex_opt"><a href="#val-rindex_opt" class="anchor"></a><code><span><span class="keyword">val</span> rindex_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>rindex_opt r c</code> returns <code>Some i</code> where <code>i</code> is the position of the rightmost occurrence of character <code>c</code> in rope <code>r</code> or <code>None</code> if <code>c</code> does not occur in <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-index_from"><a href="#val-index_from" class="anchor"></a><code><span><span class="keyword">val</span> index_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Same as <a href="#val-index"><code>Rope.index</code></a>, but start searching at the character position given as second argument. <code>Rope.index r c</code> is equivalent to <code>Rope.index_from r 0 c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-index_from_opt"><a href="#val-index_from_opt" class="anchor"></a><code><span><span class="keyword">val</span> index_from_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-index_opt"><code>Rope.index_opt</code></a>, but start searching at the character position given as second argument. <code>Rope.index_opt r c</code> is equivalent to <code>Rope.index_from_opt r 0 c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rindex_from"><a href="#val-rindex_from" class="anchor"></a><code><span><span class="keyword">val</span> rindex_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Same as <a href="#val-rindex"><code>Rope.rindex</code></a>, but start searching at the character position given as second argument. <code>Rope.rindex r c</code> is equivalent to <code>Rope.rindex_from s (Rope.length r - 1) c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rindex_from_opt"><a href="#val-rindex_from_opt" class="anchor"></a><code><span><span class="keyword">val</span> rindex_from_opt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-rindex_opt"><code>Rope.rindex_opt</code></a>, but start searching at the character position given as second argument. <code>Rope.rindex_opt r c</code> is equivalent to <code>Rope.rindex_from_opt s (Rope.length r - 1) c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-contains"><a href="#val-contains" class="anchor"></a><code><span><span class="keyword">val</span> contains : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>contains r c</code> tests if character <code>c</code> appears in the rope <code>r</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-contains_from"><a href="#val-contains_from" class="anchor"></a><code><span><span class="keyword">val</span> contains_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>contains_from r start c</code> tests if character <code>c</code> appears in the subrope of <code>r</code> starting from <code>start</code> to the end of <code>s</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if <code>start</code> is not a valid index of <code>r</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rcontains_from"><a href="#val-rcontains_from" class="anchor"></a><code><span><span class="keyword">val</span> rcontains_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>rcontains_from r stop c</code> tests if character <code>c</code> appears in the subrope of <code>r</code> starting from the beginning of <code>r</code> to index <code>stop</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>Invalid_argument</code> <p>if <code>stop</code> is not a valid index of <code>r</code>.</p></li></ul></div></div><h3 id="search-substring"><a href="#search-substring" class="anchor"></a>Search substring</h3><div class="odoc-spec"><div class="spec value anchored" id="val-search_forward_string"><a href="#val-search_forward_string" class="anchor"></a><code><span><span class="keyword">val</span> search_forward_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>search_forward_string p</code> is a search function that, given a rope <code>r</code> and a start index <code>i0</code>, will return the position of <code>p</code> in <code>r</code> or raise <code>Not_found</code> if no occurrence of <code>p</code> in <code>r</code> exists. <code>let search = search_forward_string p</code> takes O(length p) and <code>search r i0</code> takes O(length r - i0).</p></div></div><h3 id="ascii-letter-case"><a href="#ascii-letter-case" class="anchor"></a>ASCII letter case</h3><div class="odoc-spec"><div class="spec value anchored" id="val-uppercase_ascii"><a href="#val-uppercase_ascii" class="anchor"></a><code><span><span class="keyword">val</span> uppercase_ascii : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return the argument with all lowercase letters translated to uppercase, including accented letters of the ISO Latin-1 (8859-1) character set.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lowercase_ascii"><a href="#val-lowercase_ascii" class="anchor"></a><code><span><span class="keyword">val</span> lowercase_ascii : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return the argument with all uppercase letters translated to lowercase, including accented letters of the ISO Latin-1 (8859-1) character set.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-capitalize_ascii"><a href="#val-capitalize_ascii" class="anchor"></a><code><span><span class="keyword">val</span> capitalize_ascii : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return the argument, with the first character set to uppercase.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uncapitalize_ascii"><a href="#val-uncapitalize_ascii" class="anchor"></a><code><span><span class="keyword">val</span> uncapitalize_ascii : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Return the argument with the first character set to lowercase.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uppercase"><a href="#val-uppercase" class="anchor"></a><code><span><span class="keyword">val</span> uppercase : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>Use <a href="#val-uppercase_ascii"><code>Rope.uppercase_ascii</code></a>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-lowercase"><a href="#val-lowercase" class="anchor"></a><code><span><span class="keyword">val</span> lowercase : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>Use <a href="#val-lowercase_ascii"><code>Rope.lowercase_ascii</code></a>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-capitalize"><a href="#val-capitalize" class="anchor"></a><code><span><span class="keyword">val</span> capitalize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>Use <a href="#val-capitalize_ascii"><code>Rope.capitalize_ascii</code></a>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-uncapitalize"><a href="#val-uncapitalize" class="anchor"></a><code><span><span class="keyword">val</span> uncapitalize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>Use <a href="#val-uncapitalize_ascii"><code>Rope.uncapitalize_ascii</code></a>.</p></li></ul></div></div><h3 id="ordering"><a href="#ordering" class="anchor"></a>Ordering</h3><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>The comparison function for ropes, with the same specification as <code>Pervasives.compare</code>. Along with the type <code>t</code>, this function <code>compare</code> allows the module <a href="#"><code>Rope</code></a> to be passed as argument to the functors <code>Set.Make</code> and <code>Map.Make</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal r1 r2</code> tells whether the two ropes <code>r1</code> and <code>r2</code> are equal. (It is equivalent to <code>compare r1 r2 = 0</code>, just slightly faster.)</p></div></div><h3 id="input/output"><a href="#input/output" class="anchor"></a>Input/output</h3><p>Input and output functions for ropes modelled on the standard library <code>Pervasives</code>.</p><div class="odoc-spec"><div class="spec value anchored" id="val-input_line"><a href="#val-input_line" class="anchor"></a><code><span><span class="keyword">val</span> input_line : <span><span class="optlabel">?leaf_length</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.in_channel <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read characters from the given input channel, until a newline character is encountered. Return the rope of all characters read, without the newline character at the end.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <code>End_of_file</code> <p>if the end of the file is reached at the beginning of line.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_line"><a href="#val-read_line" class="anchor"></a><code><span><span class="keyword">val</span> read_line : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Flush standard output, then read characters from standard input until a newline character is encountered. Return the rope of all characters read, without the newline character at the end.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_string"><a href="#val-print_string" class="anchor"></a><code><span><span class="keyword">val</span> print_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print a rope on standard output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-print_endline"><a href="#val-print_endline" class="anchor"></a><code><span><span class="keyword">val</span> print_endline : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print a rope, followed by a newline character, on standard output and flush standard output.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prerr_string"><a href="#val-prerr_string" class="anchor"></a><code><span><span class="keyword">val</span> prerr_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print a rope on standard error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-prerr_endline"><a href="#val-prerr_endline" class="anchor"></a><code><span><span class="keyword">val</span> prerr_endline : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print a rope, followed by a newline character on standard error and flush standard error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-output_rope"><a href="#val-output_rope" class="anchor"></a><code><span><span class="keyword">val</span> output_rope : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>output_rope oc r</code> outputs the rope <code>r</code> to the output channel <code>oc</code>. May also be used with a <code>%a</code> directive of printf.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-output_string"><a href="#val-output_string" class="anchor"></a><code><span><span class="keyword">val</span> output_string : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Alias for <a href="#val-output_rope"><code>Rope.output_rope</code></a> to be a drop in replacement for strings.</p></div></div><h3 id="balancing"><a href="#balancing" class="anchor"></a>Balancing</h3><div class="odoc-spec"><div class="spec value anchored" id="val-balance"><a href="#val-balance" class="anchor"></a><code><span><span class="keyword">val</span> balance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>balance r</code> return a balanced copy of the rope <code>r</code>. Implicit rebalancing is done by some of the above functions to avoid gross inefficiencies but you may want to call this function explicitely to try to improve your running times.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-height"><a href="#val-height" class="anchor"></a><code><span><span class="keyword">val</span> height : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>depth r</code> returns the depth of the rope <code>r</code>. This information may be useful to decide whether you want to re-balance.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rebalancing_height"><a href="#val-rebalancing_height" class="anchor"></a><code><span><span class="keyword">val</span> rebalancing_height : int</span></code></div><div class="spec-doc"><p>The rope will be rebalanced by some functions it its height is greater or equal to <code>rebalancing_height</code>.</p></div></div><h3 id="iterator"><a href="#iterator" class="anchor"></a>Iterator</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Iterator"><a href="#module-Iterator" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Iterator/index.html">Iterator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Iterators for ropes. It is more efficient to use an iterator to perform small steps and get the characters than to use <a href="#val-get"><code>Rope.get</code></a> repeatedly.</p></div></div><h3 id="buffer"><a href="#buffer" class="anchor"></a>Buffer</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Buffer"><a href="#module-Buffer" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Buffer/index.html">Buffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This is similar to the <code>Buffer</code> module in the standard library except that it constructs ropes. It is recommended to use this module instead of repeatedly concatenating chars.</p></div></div><h3 id="repl"><a href="#repl" class="anchor"></a>REPL</h3><div class="odoc-spec"><div class="spec module anchored" id="module-Rope_toploop"><a href="#module-Rope_toploop" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Rope_toploop/index.html">Rope_toploop</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Toploop printer and its configuration.</p></div></div></div></body></html>
